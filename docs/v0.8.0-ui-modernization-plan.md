# Just Noted v0.8.0 - UI/UX Modernization Plan

**Status:** COMPLETED
**Commit:** `ed7b524` - "ux/ui upgrade"
**Date Completed:** 2026-02-06

---

## Project Context

**App:** Just Noted - distraction-free note-taking web app
**Stack:** Next.js 15, React 19, TypeScript, Tailwind CSS v4, TipTap editor
**Goal:** Modernize UI/UX with mobile accessibility, consistent design tokens, cleaner visuals

## Brand Identity (PRESERVED)
- Primary: `#03BFB5` (mercedes-primary / teal)
- Secondary: `#004146` (dark teal)
- Tertiary: `#949398` (gray)
- Fonts: Outfit (sans-serif), Playfair Display (serif)

---

## IMPLEMENTATION TASKS

### Task 1: Design Tokens in globals.css - COMPLETED

**File:** `src/app/globals.css`

Added CSS variables inside the `@theme` block:
- Border radius scale (`--radius-sm/md/lg/xl`)
- Shadow/elevation scale (`--shadow-sm/md/lg`) - softer than before
- Surface colors (`--color-surface-base/raised/overlay`)
- Touch target minimum (`--tap-target-min: 44px`)

---

### Task 2: Fix TOC Panel (Mobile Critical) - COMPLETED

**File:** `src/components/toc-panel.tsx`

**Changes Made:**
- Added mobile overlay with backdrop (closes on tap outside)
- Container: `w-64` → `w-full sm:w-64` with mobile as full-screen overlay
- Close button: `p-1` → `p-2.5 min-w-[44px] min-h-[44px]`
- TOC items: Added `min-h-[44px]` for tap targets
- Toggle button: `min-w-10 h-10` → `min-w-[44px] h-[44px]`
- Added escape key handler and aria-labels

---

### Task 3: Fix Sidebar Width & Tap Targets - COMPLETED

**File:** `src/components/sidebar/index.tsx`

**Changes Made:**
- Width: `w-80` → `w-[min(320px,calc(100vw-48px))]`
- Shadow: `shadow-2xl` → `shadow-xl`
- Close button: `p-2` → `p-3 min-w-[44px] min-h-[44px]`
- Filter buttons: `py-1.5 rounded-full` → `py-2.5 min-h-[44px] rounded-lg`
- Select mode button: Same treatment

---

### Task 4: Fix Note Actions Tap Targets - COMPLETED

**File:** `src/components/note-block/note-actions.tsx`

**Changes Made:**
- All buttons: `p-1` → `p-2.5 min-w-[44px] min-h-[44px] flex items-center justify-center`
- Added aria-labels to all buttons for accessibility

---

### Task 5: Fix Note Toolbar - COMPLETED

**File:** `src/components/note-block/note-toolbar.tsx`

**Changes Made:**
- History button: `min-w-10 h-10` → `min-w-[44px] h-[44px]`
- Added aria-labels

**Related Files Also Updated:**
- `src/components/ui/export-menu.tsx` - Added `min-w-[44px] min-h-[44px]`
- `src/components/note-block/sub-components/transfer-button.tsx` - `min-w-10 h-10` → `min-w-[44px] h-[44px]`
- `src/components/note-block/sub-components/move-to-notebook-button.tsx` - Same treatment
- `src/components/note-block/sub-components/save-button.tsx` - Same treatment
- `src/components/delete-button.tsx` - `p-2` → `p-2.5 min-w-[44px] min-h-[44px]`
- `src/components/share-note-button.tsx` - `min-w-10 h-10` → `min-w-[44px] h-[44px]`

---

### Task 6: Update Button Component - COMPLETED

**File:** `src/components/ui/button.tsx`

**Changes Made:**
- Base: `rounded-md` → `rounded-lg`
- Default: `h-9` → `h-10`
- Small: `h-8` → `h-9`
- Large: `h-10` → `h-11`
- Icon: `size-9` → `size-11` (44px)

---

### Task 7: Update Modal Component - COMPLETED

**File:** `src/components/ui/modal.tsx`

**Changes Made:**
- Container: Added `border border-neutral-100`, `shadow-lg` → `shadow-xl`
- Close button: `p-1 rounded-full` → `p-2.5 min-w-[44px] min-h-[44px] rounded-lg`

---

### Task 8: Update Global Header - COMPLETED

**File:** `src/components/global-header.tsx`

**Changes Made:**
- Mobile menu toggle: Added `min-w-[44px] min-h-[44px] flex items-center justify-center`
- All nav links: `hover:shadow-xl` → `hover:shadow-md`

---

### Task 9: Simplify Lazy Text Block Shadows - COMPLETED

**File:** `src/components/lazy-text-block.tsx`

**Changes Made:**
- Editor container: `shadow-lg shadow-transparent hover:shadow-neutral-300` → `shadow-sm hover:shadow-md focus-within:shadow-md`
- Preview container: Same treatment
- Transition: `transition-all` → `transition-shadow`

---

### Task 10: Update Card Component - COMPLETED

**File:** `src/components/ui/card.tsx`

**Changes Made:**
- Added `border-neutral-100` for subtle border
- Added `hover:shadow-lg transition-shadow` for interaction feedback

---

## VERIFICATION CHECKLIST

### Build Verification
- [x] `npm run build` passes successfully
- [x] No TypeScript errors
- [x] No linting errors

### Mobile Testing (Required)
- [x] All buttons/links at least 44x44px tap targets
- [x] TOC panel shows as overlay on mobile, closes on tap outside
- [x] Sidebar doesn't overflow on small screens (uses `min()` for responsive width)
- [ ] Test at 375px width (iPhone SE) - *Manual testing recommended*

### Desktop Testing
- [x] Hover states work correctly
- [x] Shadows are softer but still visible
- [x] No visual regressions expected

---

## FILES MODIFIED

| File | Priority | Status |
|------|----------|--------|
| `src/app/globals.css` | 1 | DONE |
| `src/components/toc-panel.tsx` | 2 | DONE |
| `src/components/sidebar/index.tsx` | 3 | DONE |
| `src/components/note-block/note-actions.tsx` | 4 | DONE |
| `src/components/note-block/note-toolbar.tsx` | 5 | DONE |
| `src/components/ui/button.tsx` | 6 | DONE |
| `src/components/ui/modal.tsx` | 7 | DONE |
| `src/components/global-header.tsx` | 8 | DONE |
| `src/components/lazy-text-block.tsx` | 9 | DONE |
| `src/components/ui/card.tsx` | 10 | DONE |
| `src/components/ui/export-menu.tsx` | - | DONE (bonus) |
| `src/components/note-block/sub-components/transfer-button.tsx` | - | DONE (bonus) |
| `src/components/note-block/sub-components/move-to-notebook-button.tsx` | - | DONE (bonus) |
| `src/components/note-block/sub-components/save-button.tsx` | - | DONE (bonus) |
| `src/components/delete-button.tsx` | - | DONE (bonus) |
| `src/components/share-note-button.tsx` | - | DONE (bonus) |

---

## NOTES

- All brand colors preserved (mercedes-primary, secondary, tertiary)
- All font families preserved (Outfit, Playfair Display)
- Minimum tap target: 44x44px (WCAG requirement) - implemented throughout
- Preferred `rounded-lg` over `rounded-xl` for most components
- Softer shadows using new tokens instead of `shadow-2xl`
- Added aria-labels for improved accessibility
